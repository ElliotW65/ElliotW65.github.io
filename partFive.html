<!DOCTYPE html>
<html lang="en">

<head>
    <script src='https://d3js.org/d3.v7.min.js'></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
</head>

<body>

    <p id="mrMrs"></p>

    <script>
        // Exercise 9
        let titaniccsv = 'https://raw.githubusercontent.com/dsindy/kaggle-titanic/master/data/test.csv';
        /*
        PassengerId,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked
        892,3,"Kelly, Mr. James",male,34.5,0,0,330911,7.8292,,Q
        893,3,"Wilkes, Mrs. James (Ellen Needs)",female,47,1,0,363272,7,,S
        894,2,"Myles, Mr. Thomas Francis",male,62,0,0,240276,9.6875,,Q
        895,3,"Wirz, Mr. Albert",male,27,0,0,315154,8.6625,,S
        */

        var mrMrs = 0;
        var male = 0;
        var female = 0;

        var names = [];

        d3.csv(titaniccsv, function(data) {
            console.log( data.Name );

            if(data.Name.includes("Mr") || data.Name.includes("Mrs")) {
                mrMrs++;
            }

            if(data.Sex == "male") {
                male += 1;
            }
            else if(data.Sex == "female") {
                female += 1;
            }

            d3.select("p").text("Number or Mr/Mrs: " + mrMrs);

            var newSpan = d3.select("body").selectAll("span").data(data).enter().append(newSpan).text("Working");
            d3.select("body").select("span").append("span");

        });

        
/*         var myData = ['a', 4, 1, 'b', 6, 2, 8, 9, 'z'];

        var p = d3.select("body")
            .selectAll("span")
            .data(myData)
            .enter()
            .append('p')
            .text(function (d, i) {
                return "Working";
            }); */




    </script>

</body>

</html>
